# STACK-MACHINE
stack-based CPU emulation

Программа эмулирует работу 0-адресной машины и исполняет скрипты написанные на аналоге ассемблера.
Пока что только логические и целочисленные операции.
Обработки исключений тоже нет, так что не ломайте ничего.

Машина работает со стеком, поэтому аргументы требуются только для операций работы с памятью, арифметические и логические не требуют операнд.


Как пользоваться:
Пишем свою программу в scripts1.txt, во время исполнения данные сохраняются в файл memory.txt, он обновляется после каждой операции, вроде как дебаг версия получается.

Инструкции:

Арифметика
IADD - Взять два верхних элемента из стека, сложить, результат положить в стек.
ISUB - Взять два верхних элемента из стека, из предпоследнего вычесть последний, результат положить в стек.
IMUL, IDIV по аналогии

Логика:
OR, AND - Взять два верхних элемента, произвести логическую операцию, положить в стек. Предполагается, что операнды принимают значения {0,1}
NOT - Взять верхний элемент, произвести логическое отрицание, положить в стек. Предполагается, что операнды принимают значения {0,1}

Сравнение:
EQ - Взять два верхних элемента, вернуть 1 если они равны и 0 если нет
CL - (Compare: Less)
CG - (Compare: Greater)
CLE - (Compare: Less or Equal)
CGE - (Compare: Greater or Equal)

Работа с памятью
PUSHCONST A - положить в стек константу A (целое число)
GET Adr - Положить на вершину стека значение из памяти по адресу Adr
SET Adr - Взять верхний элемент стека и сохранить по адресу Adr


